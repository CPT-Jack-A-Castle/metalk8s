kubeadm_preflight:
  mandatory:
    packages:
      - util-linux            # provides nsenter, mount
      - iproute               # provides ip
      - iptables              # provides iptables
    ports:
      - 10250
      - 10251
      - 10252
      - 2379
      - 2380
    sysctl_values:
      net.bridge.bridge-nf-call-ip6tables: 1
      net.bridge.bridge-nf-call-iptables: 1
      net.ipv4.ip_forward: 1
  recommended:
    packages:
      - ebtables              # provides ebtables
      - ethtool               # provides ethtool
      - socat                 # provides socat
      - iproute               # provides tc
      - coreutils             # provides touch

repo:
  online_mode: True
  runc:
    version: latest
  containerd:
    version: latest
  kubernetes:
    version: latest

kubelet:
  config_file: "/var/lib/kubelet/config.yaml"
  container_engine: "containerd"
  service:
    environment_file: "/var/lib/kubelet/kubeadm-flags.env"
    options:
      container-runtime: remote
      container-runtime-endpoint: "unix:///run/containerd/containerd.sock"
  config:
    kind: KubeletConfiguration
    apiVersion: kubelet.config.k8s.io/v1beta1
    staticPodPath: /etc/kubernetes/manifests
    authentication:
      anonymous:
        enabled: True
      webhook:
        enabled: False
    authorization:
      mode: AlwaysAllow

upgrade: False        # define if we're on an upgrade case
